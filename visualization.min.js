document.write('<script type="text/javascript" src="'+(("https:"==document.location.protocol)?"https://":"http://")+"www.google.com/jsapi?autoload="+encodeURIComponent('{"modules":[{"name":"visualization","version":"1"}]}')+'"><\/script>');if(typeof console=="undefined"){console={log:function(){}}}(function(c){var d=0;function a(){d++;return"html5-gv-id-"+d}var b=function(){c(this).each(function(){c(this).attr("data-gv-applied","true");c(this).change(function(){c(this).removeAttr("data-gv-applied")});console.log(this.id+": loading");c(this).append("<p>Loading chart...</p>");if(!this.id){this.id=a()}var o={chartType:"Table",containerId:this.id,dataTable:null,options:{}};if(c(this).width()/c(this).height()>20){c(this).height(250)}console.log(this.id+": setting defaults");var f={type:"chartType",};c(["axisTitlesPosition","backgroundColor","chartArea","enableInteractivity","fontSize","fontName","gridlineColor","hAxis","isStacked","legendTextStyle","logScale","maxAlternation","maxValue","minValue","reverseCategories","showTextEvery","slantedText","slantedTextAngle","strokeWidth","textPosition","textStyle","titlePosition","titleTextStyle","tooltipTextStyle","vAxes","vAxis","viewWindowMode","viewWindow"]).each(function(){f[this.toLowerCase()]=this});console.log(this.id+": parsing config");for(var l=0;l<this.attributes.length;l++){var j=this.attributes[l].name.toLowerCase();var s=this.attributes[l].value;if(j.indexOf("_")!=-1){var p=j.substr(j.indexOf("_")+1);j=j.substr(0,j.indexOf("_"));if(p=="csv"){var r=[];while(s.indexOf(",")!=-1){var m=s.substr(0,s.indexOf(","));s=s.substr(m.length+1);r.push(m)}if(s!=""){r.push(s)}s=r}else{if(p=="json"){if(s.indexOf('"')==-1&&s.indexOf("'")!=-1){s=s.replace(/'/g,'"')}s=c.parseJSON(s)}}}if(j.substr(0,8)=="data-gv-"){j=j.substr(8);if(typeof f[j]!="undefined"){j=f[j]}if(typeof o[j]=="undefined"){tgt=o.options}else{tgt=o}while(j.indexOf(".")!=-1){var p=j.substr(0,j.indexOf("."));if(typeof f[p]!="undefined"){p=f[p]}j=j.substr(p.length+1);if(typeof tgt[p]=="undefined"){tgt[p]={}}tgt=tgt[p]}if(typeof f[j]!="undefined"){j=f[j]}tgt[j]=s}}console.log(this.id+": loading datatable");var n=function(){};var h=new google.visualization.DataTable();var t=null;o.dataTable=h;if(c("table:has(tbody):not(.google-visualization-table-table)",this).length==1){t=c("table:has(tbody)",this);c("caption:first",t).each(function(){o.options.title=c(this).text()});t.insertAfter(this).hide();e(h,t)}else{if(c(this).eq(0).attr("data-gv-datatable")){console.log(this.id+": loading datatable by id");t=document.getElementById(c(this).eq(0).attr("data-gv-datatable"));if(t){e(h,t);c(this).append("<p>Load dt </p>");if(o.chartType=="Table"){c(t).hide()}else{if(o.options.datatablehide){c(t).hide()}}c(this).append("<p>Load dt </p>")}}else{console.log(this.id+": error");c(this).append("Unable to locate datatable");return}}if(o.options.image=="true"||o.options.image=="print"){if(typeof canvg!="function"){c.getScript("http://canvg.googlecode.com/svn/trunk/rgbcolor.js");c.getScript("http://canvg.googlecode.com/svn/trunk/canvg.js")}var q=c(this);n=function(){if(typeof canvg!="function"||typeof RGBColor!="function"){setTimeout(n,500);return}var i=(o.options.image=="print")?4:1;var x=c('<canvas style="display:none;">').attr("id",this.id+"-canvas");x.width(q.width()*i).height(q.height()*i);q.after(x);var u=q.gv_svg(0);var w=function(A,y){var B="",z=[];var C=A.split(" "+y+'="');if(C.length==1||i==1){return A}B=C.shift();while(C.length!=0){B+=" "+y+'="';z=C.shift().split('"');B+=z.shift()*i;B+='"'+z.join('"')}return B};var v=function(A){var B="",y=[],D="",z="";var C=A.split(' d="M');if(C.length==1||i==1){return A}B=C.shift();while(C.length!=0){B+=' d="M';y=C.shift();while(y.length!=0){D=y.charAt(0);y=y.substr(1);if(D=='"'){B+=(z*i)+D+y;break}if("-0123456789.".indexOf(D)==-1){B+=(z*i)+D;z=""}else{z+=D}}}return B};u=w(w(w(w(u,"x"),"y"),"width"),"height");u=w(w(u,"font-size"),"stroke-width");u=v(u);canvg(this.id+"-canvas",u);x.width(x.width()*i).height(x.height()*i);var k=c("<img>").attr("src",c("#"+this.id+"-canvas")[0].toDataURL("image/png"));k.width(q.width()).height(q.height());q.html(k);x.remove()}}console.log(this.id+": drawing chart");var g=new google.visualization.ChartWrapper(o);google.visualization.events.addListener(g,"ready",n);g.draw();c(this).data("gv_wrapper",g)})};function e(g,f){c("thead tr",f).children("td,th").each(function(i){var h=c("tbody tr:first",f).children("td,th").eq(i);if(h.is("th")||isNaN(h.text())){g.addColumn("string",c(this).text())}else{g.addColumn("number",c(this).text())}});c("tbody tr",f).each(function(){var h=[];c("th,td",this).each(function(){var i=c(this).text();if(i==""){h.push(null)}else{switch(g.getColumnType(h.length)){case"number":h.push(1*i);break;default:h.push(i);break}}});g.addRow(h)})}c.fn.gv=function(g,f){c(this).attr("data-gv-"+g,f).removeAttr("data-gv-applied").change()};c.fn.gv_edit=function(){var f=c(this)[0];var g=c(this).eq(0).data("gv_wrapper");google.load("visualization","1",{packages:["charteditor"],callback:function(){var h=new google.visualization.ChartEditor();google.visualization.events.addListener(h,"ok",function(){g=h.getChartWrapper();g.draw(f)});h.openDialog(g)}})};c.fn.gv_svg=function(i){var f="";try{f=c(this).find("svg").eq(0).parent().html()}catch(g){f=c(this).eq(0).find("iframe").contents().find("body").html()+""}if(f.indexOf("<svg")==-1){alert("Sorry, but the export to SVG only works when viewing a chart.");return}f=f.substring(f.indexOf("<svg")+4,f.indexOf("</svg>")+6);f='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"'+f;if(i){f="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(f);if(i&&i!=-1){window.open(f,"svg_"+c(this).eq(0).attr("id"))}}return f};c(document).ready(function(){google.setOnLoadCallback(function(){var f="*[data-gv-type]:not([data-gv-applied])";if(typeof c.fn.on=="function"){c(document).on("change",f,b)}else{c(document).delegate(f,"change",b)}c(f).change()})})})(jQuery);